<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Troubleshooting Data Types</title>
<link rel="stylesheet" href="common.css" type="text/css">
<link rel="section" href="Language_Reference.html">
<link rel="license" href="http://creativecommons.org/publicdomain/zero/1.0/legalcode">
</head>
<body>
<article role="main">
<a id="top"></a>
<h1>Troubleshooting Data Types</h1>
<p>The following is a list of common problems that can occur when working with intrinsic data types.</p>
<h2>Floating-point expressions not comparing as equal</h2>
<p>When you work with floating-point numbers (<a href="Single_Data_Type.html">Single</a>, <a href="Double_Data_Type.html">Double</a>, <a href="XFP_Data_Type.html">XFP</a>, and <a href="Quad_Data_Type.html">Quad</a>), keep in mind that they are stored as binary fractions. 
This means they can hold an exact representation of a quantity only when it is a binary fraction (of the form k / (2 ^ n) where <span class="id">k</span> and <span class="id">n</span> are integers). 
For example, 0.5 = 1/2 and 0.1875 = 3/16, thus these represent precise values. 
In contrast, 0.3 = 3/10 and 0.15 = 3/20, thus these represent approximations.</p>
<p>As a consequence, you cannot rely on exact values resulting from floating-point operations. 
In particular, you cannot assume that any two given values will be considered equal, even if mathematically they should be.</p>
<p>To compare floating-point quantities, do the following:</p>
<ul>
<li>Determine an acceptable maximum tolerance for the given comparison such that any amount within this tolerance is considered equal.</li>
<li>Place a <span class="kw">Tol</span> directly after the end of the comparison expression, and follow that with the chosen tolerance amount, which can be a numeric literal or constant defined by a <span class="kw">Const</span> statement.</li>
</ul>
<p>For more information, see <a href="Tol_Clause.html">Tol Clause</a>.</p>
<div class="nav">
<hr>
<nav role="navigation">Categories: <ul><li><a href="Type_Conversions_in_ViviFire.html">Type Conversions in ViviFire</a></li></ul></nav>
</div>
<script src="common.js" type="text/javascript"></script>
</article>
</body>
</html>
